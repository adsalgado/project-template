<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">

<body>
<ui:composition template="/WEB-INF/adminLTE/template_dialog.xhtml">
    
<ui:define name="centerContent">
    <h1 style="text-align: center;">Permisos</h1>
    <h:form>
        
        <p:panel>
            <p:panelGrid columns="2">
                <p:outputLabel for="idRol" value="Idrol:" />
                <h:outputText id="idRol" value="#{permisoBean.rol.id}" />
                
                <p:outputLabel for="nombreRol" value="Nombre:" />
                <h:outputText id="nombreRol" value="#{permisoBean.rol.nombre}" />
            </p:panelGrid>
        </p:panel>
        <br />
        <p:panel>
            <p:treeTable value="#{permisoBean.treeTable}" var="opcion" selectionMode="checkbox" selection="#{permisoBean.selectedOpciones}" id="treeTable" >
                <p:ajax event="select" listener="#{permisoBean.onNodeSelect}" update="@([id$=treeTable])" />
                <p:ajax event="unselect" listener="#{permisoBean.onNodeUnselect}" update="@([id$=treeTable])" />
                
                <f:facet name="header">
                    Opciones del Sistema
                </f:facet>
                <p:column headerText="Nombre">
                    <h:outputText value="#{opcion.nombre}" />
                </p:column>
                <f:facet name="footer">
                    <p:outputPanel style="width: 100%;" styleClass="align-left">
                        <p:commandButton icon="fa fa-lg fa-save" action="#{permisoBean.actualizarPermisos}" value="Actualizar"
                                         style="padding: 3px 10px;" />
                        <p:commandButton icon="fa fa-lg fa-arrow-circle-left" actionListener="#{permisoBean.regresar}" value="Regresar"
                                         style="padding: 3px 10px;" />
                    </p:outputPanel>
                </f:facet>
            </p:treeTable>
        </p:panel>
        
    </h:form>
</ui:define>

</ui:composition>
</body>
</html>
